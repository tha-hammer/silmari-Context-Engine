version: '3.8'

services:
  claude-code:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: claude-code-dev
    volumes:
      # Mount the project directory
      - .:/workspace
      # Mount Claude config directory (persists MCP settings)
      - claude-config:/root/.config/claude
      # Mount git config (optional, for git operations)
      - git-config:/root/.gitconfig
    environment:
      # Claude API key (set this in .env file)
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      # Python environment
      - PYTHONUNBUFFERED=1
      # Project path
      - CONTEXT_ENGINE_PATH=/workspace
    working_dir: /workspace
    stdin_open: true
    tty: true
    # Keep container running
    command: tail -f /dev/null

volumes:
  claude-config:
    driver: local
  git-config:
    driver: local




